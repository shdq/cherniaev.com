---
title: "How to Find a Duplicate in an Array of Positive Numbers with Constant Space Complexity"
date: "2022-11-08"
excerpt: "How to find a duplicate in an array of positive numbers without additional data structures"
image: "https://cdn-images-1.medium.com/max/2400/1*19a7dP-84SXGeX-5SuVMXQ.jpeg"
tags:
  [
    "coding problems",
    "algorithms",
    "data structures",
    "leetcode",
    "javascript",
    "python",
  ]
---

How do we usually find duplicates? Brute force with `O(n^2)` time complexity is not an option â€“ too slow. We can do better using sort with `O(n log n)` or even `O(n)` using a data structure, like Hash Map. But these approaches require additional space, which is `O(n)` complexity. What if space complexity has to be constant `O(1)`?

I want to show an interesting approach that I came across recently. It uses linear `O(n)` time complexity and constant `O(1)` extra space (no additional data structures) to find duplicates in an array of integers. It has one con, the algorithm is modifying the input array. But it is always a trade-off when you pick a solution.

## Coding problem

You have an array of positive integers `[1..n]`. There is one duplicate number in it. Find that number. You cannot use additional data structures.

## Algorithm constraints

All integers in an input array **have to be positive**. So if you see in the problem description something like `1 <= nums[i] < nums.length`, this approach will work. This approach temporarily changes the array's values, so I assume we can modify the input.

## How it works

It is a very intuitive approach. While iterating over an array, we use the current value as the index and make the value located at the index negative. If the value at the index is already negative, we found a duplicate.

Let's walk through an example. We have an array on numbers `[2,5,1,3,2,4]`.

<div style="max-width: 100%">
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 367.62641177092996 111.28838981734225" width="100%">
  
  <defs>
    <style>
      @font-face {
        font-family: "Virgil";
        src: url("https://excalidraw.com/Virgil.woff2");
      }
      @font-face {
        font-family: "Cascadia";
        src: url("https://excalidraw.com/Cascadia.woff2");
      }
    </style>
  </defs>
  <g stroke-linecap="round" transform="translate(108.78690575470682 35.57415641169882) rotate(0 20.698154666493906 21.91569317628762)"><path d="M1.97 1.7 C12.44 0.03, 21.08 1.89, 42.33 1.74 M0.69 0.46 C11.09 -0.01, 23.05 -0.82, 41.9 0.53 M42.55 -1.24 C42.41 15.87, 40.75 28.47, 41.44 44.29 M41.82 0.46 C41.47 13.83, 40.55 30.56, 41.25 44.05 M40.51 42.58 C30.35 45.49, 20.36 45.1, -1.54 42.76 M40.72 44.78 C28.96 43.46, 18.26 44.36, -0.91 43.44 M-1.38 43.81 C1.56 25.5, 0.31 10.91, -0.05 -1.43 M-0.6 43.43 C-0.08 31.55, 0.42 18.44, 0.56 -0.51" stroke="#000000" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(150.18321508768622 35.57415641169882) rotate(0 20.698154666493906 21.91569317628762)"><path d="M1.93 -0.19 C10.28 1.32, 21.39 1.39, 40.93 -1.34 M-0.37 0.21 C14.79 -0.79, 29.82 0.34, 41.85 0.9 M42.02 0.73 C40.61 12.1, 41.69 28.31, 42.16 44.32 M41.36 -0.99 C40.62 11.62, 41.43 21.6, 41.07 42.85 M41.44 45.5 C30.27 44.85, 15.31 42.5, -0.33 42.77 M40.71 43.47 C29.4 44.76, 15.8 43.83, 0.94 44.1 M1.68 42.79 C0.73 35.89, 0.25 23.21, -0.4 -1.46 M-0.4 43.83 C0.36 27.96, 0.83 13.25, -0.89 0.09" stroke="#000" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(233.03163760203915 35.57415641169882) rotate(0 20.698154666493906 21.91569317628762)"><path d="M0.94 1.74 C11.56 -1.69, 25.12 1.03, 42.32 -0.74 M0.5 0.53 C13.74 1.15, 26.75 0.83, 40.77 0.31 M41.44 0.46 C41.93 15.23, 40.05 30.32, 42.31 43.76 M41.25 0.22 C40.66 7.84, 40.94 17.19, 40.77 43.85 M39.86 42.76 C25.19 43.03, 9.59 42.74, 1.89 42.45 M40.48 43.44 C31.41 44.32, 18.72 43.36, -0.01 44.67 M-0.05 42.4 C-0.49 31.5, 0.77 20.9, -0.8 -0.81 M0.56 43.32 C-0.93 30.78, -0.66 18.33, -0.36 -0.03" stroke="#000" stroke-width="2" fill="none"></path></g><g transform="translate(247.22979226853295 46.989849587986555) rotate(0 6.5 10.5)"><text x="6.5" y="16" font-family="Helvetica, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="middle" style="white-space: pre;" direction="ltr">3</text></g><g stroke-linecap="round" transform="translate(191.63532826904066 35.57415641169882) rotate(0 20.698154666493906 21.91569317628762)"><path d="M0.06 1.67 C16.86 1.78, 31.39 -1.3, 42.48 1.37 M0.13 -0.6 C14.84 0.44, 29.12 0.81, 41.57 0.58 M40.36 -1.82 C41.58 10.89, 42.29 21.33, 40.28 44.67 M40.44 0.93 C41.23 15.37, 41.06 29.34, 41.36 43.39 M42.54 45.11 C30.04 43.11, 21.43 43.11, -0.04 42.48 M41.74 44.37 C24.15 43.29, 9.67 43.95, -0.81 43.14 M0.42 45.48 C-0.42 29.3, -0.77 16.17, 0.86 -1.19 M0.1 43 C0.74 31.92, -0.71 21.11, -0.61 0.77" stroke="#2b8a3e" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(274.83379310495 35.57415641169882) rotate(0 20.698154666493906 21.91569317628762)"><path d="M-0.46 -1.34 C16.96 1.01, 32.68 -1.1, 41.82 0.26 M0.46 0.9 C10.11 0.36, 19.25 0.09, 41.76 -0.52 M42.16 0.49 C40.28 10, 42.32 18.24, 39.42 41.92 M41.07 -0.98 C41.3 16.76, 40.7 34.44, 42.23 44.4 M41.07 42.77 C26.29 42.26, 13.15 42.23, -0.72 44.53 M42.34 44.1 C25.95 42.98, 12.11 44.51, -0.52 44.04 M-0.4 42.37 C0.87 25.87, -0.78 9.49, -0.01 0.2 M-0.89 43.92 C-0.86 35.09, -0.61 24.79, -0.24 0.71" stroke="#000000" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(316.23010243794215 35.57415641169882) rotate(0 20.698154666493906 21.91569317628762)"><path d="M-1.88 -1.64 C10.68 1.37, 19.29 1.19, 41.04 1.64 M-0.75 -0.45 C15.83 -0.32, 32.18 -0.88, 41.25 0.19 M42.92 -0.48 C39.54 16.77, 42.03 30.71, 39.81 44.97 M41.82 0.57 C42.22 18.11, 41.5 35.16, 41.1 44.59 M41.03 44.24 C31.23 45.31, 21.07 44.24, -1.52 43.31 M40.52 44.78 C30.03 43.05, 20.06 44.34, 0.55 43.81 M0.44 43.09 C0.43 27.07, 1.77 12.22, 1.32 0.38 M-0.92 43.67 C-0.58 30.15, -0.14 16.84, -0.93 -0.88" stroke="#000" stroke-width="2" fill="none"></path></g><g transform="translate(122.60159534829927 10.110768403470502) rotate(0 7.5 12)"><text x="0" y="17" font-family="Virgil, Segoe UI Emoji" font-size="18.35590686106971px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">0</text></g><g transform="translate(168.22292807085887 10) rotate(0 3.5 12)"><text x="0" y="17" font-family="Virgil, Segoe UI Emoji" font-size="18.355906861069688px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr">1</text></g><g transform="translate(205.68737872722613 10) rotate(0 7.5 12)"><text x="0" y="17" font-family="Virgil, Segoe UI Emoji" font-size="18.355906861069705px" fill="#c92a2a" text-anchor="start" style="white-space: pre;" direction="ltr">2</text></g><g transform="translate(247.27357675188068 10) rotate(0 7.5 12)"><text x="0" y="17" font-family="Virgil, Segoe UI Emoji" font-size="18.355906861069695px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr">3</text></g><g transform="translate(289.4555096381373 10) rotate(0 7 12)"><text x="0" y="17" font-family="Virgil, Segoe UI Emoji" font-size="18.355906861069702px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr">4</text></g><g transform="translate(331.04170766278185 10) rotate(0 6.5 12)"><text x="0" y="17" font-family="Virgil, Segoe UI Emoji" font-size="18.35590686106969px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr">5</text></g><g transform="translate(122.98506042120061 46.989849587986555) rotate(0 6.5 10.5)"><text x="6.5" y="16" font-family="Helvetica, Segoe UI Emoji" font-size="20px" fill="#c92a2a" text-anchor="middle" style="white-space: pre;" direction="ltr">2</text></g><g transform="translate(164.38136975418 46.989849587986555) rotate(0 6.5 10.5)"><text x="6.5" y="16" font-family="Helvetica, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="middle" style="white-space: pre;" direction="ltr">5</text></g><g transform="translate(205.83348293553445 46.989849587986555) rotate(0 6.5 10.5)"><text x="6.5" y="16" font-family="Helvetica, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="middle" style="white-space: pre;" direction="ltr">1</text></g><g transform="translate(289.0319477714438 46.989849587986555) rotate(0 6.5 10.5)"><text x="6.5" y="16" font-family="Helvetica, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="middle" style="white-space: pre;" direction="ltr">2</text></g><g transform="translate(330.42825710443594 46.989849587986555) rotate(0 6.5 10.5)"><text x="6.5" y="16" font-family="Helvetica, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="middle" style="white-space: pre;" direction="ltr">4</text></g><g stroke-linecap="round"><g transform="translate(128.59343125886244 84.14219601019772) rotate(0 42 8.073096903572264)"><path d="M0 0 C3.68 2.1, 13.92 9.85, 22.09 12.58 C30.27 15.32, 38.74 18.66, 49.06 16.4 C59.38 14.13, 78.18 1.9, 84 -1 M0 0 C3.68 2.1, 13.92 9.85, 22.09 12.58 C30.27 15.32, 38.74 18.66, 49.06 16.4 C59.38 14.13, 78.18 1.9, 84 -1" stroke="#000" stroke-width="2" fill="none"></path></g><g transform="translate(128.59343125886244 84.14219601019772) rotate(0 42 8.073096903572264)"><path d="M71.31 13.83 C75.48 8.96, 79.64 4.09, 84 -1 M71.31 13.83 C76.37 7.92, 81.42 2.01, 84 -1" stroke="#000" stroke-width="2" fill="none"></path></g><g transform="translate(128.59343125886244 84.14219601019772) rotate(0 42 8.073096903572264)"><path d="M64.75 2.2 C71.07 1.15, 77.39 0.1, 84 -1 M64.75 2.2 C72.42 0.93, 80.09 -0.35, 84 -1" stroke="#000" stroke-width="2" fill="none"></path></g></g><g transform="translate(10 43.346566882997195) rotate(0 30.5 12.5)"><text x="0" y="20" font-family="Cascadia, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr">i = 0</text></g></svg>
</div>

On the first iteration we look at the value `2` and make value at position `2` in the array negative.

<div style="max-width: 100%">
<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 367.62641177092996 117.75805427327714" width="100%">
  
  <defs>
    <style>
      @font-face {
        font-family: "Virgil";
        src: url("https://excalidraw.com/Virgil.woff2");
      }
      @font-face {
        font-family: "Cascadia";
        src: url("https://excalidraw.com/Cascadia.woff2");
      }
    </style>
  </defs>
  <g stroke-linecap="round" transform="translate(108.78690575470682 35.57415641169882) rotate(0 20.698154666493906 21.91569317628762)"><path d="M-0.23 -0.1 C15.08 -0.63, 34.88 0.48, 40.75 0.42 M0.74 -0.26 C10.51 -0.88, 23.74 -0.99, 41.36 0.51 M41.73 0.08 C42.12 10.45, 41.77 20.59, 41.82 41.88 M40.88 0.89 C41.92 9.29, 41.93 18.84, 40.49 43.22 M40.21 45.25 C27.6 45.71, 16.99 45.17, 1.7 43.74 M41.78 43.68 C29.97 44.96, 19.35 44.87, 0.21 44.01 M1.75 42.3 C1.09 35.32, -0.71 24.84, -1.3 -0.34 M-0.43 44.01 C0.01 29.71, -0.25 13.74, -0.18 -0.47" stroke="#000" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(150.18321508768622 35.57415641169882) rotate(0 20.698154666493906 21.91569317628762)"><path d="M-0.1 -1.48 C7.88 1.81, 17.65 -0.6, 41.82 -0.5 M-0.26 -0.87 C13.57 0.67, 27.75 -0.35, 41.91 -0.83 M41.48 1.03 C42.41 10.72, 43.03 20.49, 39.45 42.21 M42.28 0.94 C41.43 9.88, 41.39 16.94, 40.79 43.84 M42.81 42.51 C31.86 44.12, 20.13 45.29, -0.09 42.93 M41.24 42.95 C27.61 43.05, 12.85 44.2, 0.18 43.22 M-1.53 44.51 C2.29 33.67, 2.26 24.44, -0.34 0.73 M0.18 43.57 C0.7 32.94, -0.51 22.92, -0.47 0.27" stroke="#000" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(191.63532826904066 35.57415641169882) rotate(0 20.698154666493906 21.91569317628762)"><path d="M-1.48 -0.78 C12.6 0.34, 21.03 0.44, 40.89 0.91 M-0.87 -0.74 C14.79 -0.74, 27.59 0.62, 40.57 -0.71 M42.43 0.93 C42.15 15.45, 41.89 25.83, 39.78 41.9 M42.34 -0.31 C42.12 16.24, 40.26 32.59, 41.41 43.53 M40.07 45.49 C27.28 45.24, 13.78 44.03, -0.9 44.92 M40.52 44.72 C25.64 44.57, 11.98 43.95, -0.62 42.9 M0.68 45.78 C-1.5 36.06, -1.68 24.1, 0.73 -1.27 M-0.26 44.47 C-0.34 30.75, 0.01 18.34, 0.27 0.7" stroke="#000" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(233.03163760203915 35.57415641169882) rotate(0 20.698154666493906 21.91569317628762)"><path d="M-0.78 1.77 C12.27 -0.34, 24.31 -0.19, 42.31 0.67 M-0.74 0.98 C14.63 0.32, 31.48 -0.47, 40.69 0.17 M42.33 0.69 C42.97 14.3, 39.47 26.13, 39.47 45.4 M41.09 0.95 C41.43 9.98, 41.18 21.79, 41.1 44.37 M43.05 44.37 C32.55 45.26, 21.38 42.65, 1.09 44.99 M42.28 42.89 C28.18 43.68, 13.55 42.85, -0.94 43.04 M1.95 42.71 C2.25 25.55, -0.01 10.6, -1.27 -0.29 M0.64 43.31 C-0.65 32.37, -0.55 21.54, 0.7 -0.16" stroke="#000" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(274.83379310495 35.57415641169882) rotate(0 20.698154666493906 21.91569317628762)"><path d="M1.77 0.32 C11.57 0.59, 23.94 1.07, 42.07 1.48 M0.98 -0.85 C11.31 0.82, 21.87 -0.41, 41.57 0.17 M42.08 1.56 C42.04 11.38, 40 24.74, 42.97 42.8 M42.35 -0.36 C40.9 16.43, 41.82 33.78, 41.94 43.24 M41.93 44.95 C27.75 44.08, 9.79 45.26, 1.16 44.6 M40.46 44.63 C29.82 44.38, 17.2 43.26, -0.79 44.71 M-1.12 45.75 C-1.45 33.68, 0.58 22.95, -0.29 -0.85 M-0.52 43.26 C-0.06 29.43, 0.39 16.68, -0.16 -0.63" stroke="#000000" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(316.23010243794215 35.57415641169882) rotate(0 20.698154666493906 21.91569317628762)"><path d="M0.32 -0.65 C9.77 -0.87, 19.61 0.31, 42.88 -0.52 M-0.85 -0.04 C9.34 -1.23, 16.95 -0.23, 41.56 0.04 M42.95 0.42 C39.65 13.79, 39.67 32.4, 40.36 45.6 M41.04 -0.91 C40.65 17.29, 40.96 35.1, 40.8 44.54 M42.51 45.53 C31.63 43.04, 23.13 45.1, 0.77 43.53 M42.19 44.05 C32.79 42.83, 22.89 42.65, 0.87 43.07 M1.92 42.53 C-0.77 29.93, -1.7 14.27, -0.85 0.35 M-0.58 43.65 C-0.75 32.11, 0.42 19.69, -0.63 0.16" stroke="#2b8a3e" stroke-width="2" fill="none"></path></g><g transform="translate(122.60159534829927 10.110768403470502) rotate(0 7.5 12)"><text x="0" y="17" font-family="Virgil, Segoe UI Emoji" font-size="18.35590686106971px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">0</text></g><g transform="translate(168.22292807085887 10) rotate(0 3.5 12)"><text x="0" y="17" font-family="Virgil, Segoe UI Emoji" font-size="18.355906861069688px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr">1</text></g><g transform="translate(205.68737872722613 10) rotate(0 7.5 12)"><text x="0" y="17" font-family="Virgil, Segoe UI Emoji" font-size="18.355906861069705px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr">2</text></g><g transform="translate(247.27357675188068 10) rotate(0 7.5 12)"><text x="0" y="17" font-family="Virgil, Segoe UI Emoji" font-size="18.355906861069695px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr">3</text></g><g transform="translate(289.4555096381373 10) rotate(0 7 12)"><text x="0" y="17" font-family="Virgil, Segoe UI Emoji" font-size="18.355906861069702px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr">4</text></g><g transform="translate(331.04170766278185 10) rotate(0 6.5 12)"><text x="0" y="17" font-family="Virgil, Segoe UI Emoji" font-size="18.35590686106969px" fill="#c92a2a" text-anchor="start" style="white-space: pre;" direction="ltr">5</text></g><g transform="translate(122.98506042120061 46.98984958798701) rotate(0 6.5 10.5)"><text x="6.5" y="16" font-family="Helvetica, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="middle" style="white-space: pre;" direction="ltr">2</text></g><g transform="translate(164.38136975418 46.989849587986555) rotate(0 6.5 10.5)"><text x="6.5" y="16" font-family="Helvetica, Segoe UI Emoji" font-size="20px" fill="#c92a2a" text-anchor="middle" style="white-space: pre;" direction="ltr">5</text></g><g transform="translate(202.33348293553445 46.989849587986555) rotate(0 10 10.5)"><text x="10" y="16" font-family="Helvetica, Segoe UI Emoji" font-size="20px" fill="#2b8a3e" text-anchor="middle" style="white-space: pre;" direction="ltr">-1</text></g><g transform="translate(247.22979226853295 46.989849587986555) rotate(0 6.5 10.5)"><text x="6.5" y="16" font-family="Helvetica, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="middle" style="white-space: pre;" direction="ltr">3</text></g><g transform="translate(289.0319477714438 46.98984958798701) rotate(0 6.5 10.5)"><text x="6.5" y="16" font-family="Helvetica, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="middle" style="white-space: pre;" direction="ltr">2</text></g><g transform="translate(330.42825710443594 46.989849587986555) rotate(0 6.5 10.5)"><text x="6.5" y="16" font-family="Helvetica, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="middle" style="white-space: pre;" direction="ltr">4</text></g><g stroke-linecap="round"><g transform="translate(171.68993302126455 84.1421960101975) rotate(0 82.65707713434165 11.807929131539765)"><path d="M0 0 C6.29 2.44, 23.46 10.72, 37.73 14.65 C52 18.58, 70.06 23.15, 85.63 23.57 C101.21 24, 117.91 21.04, 131.19 17.21 C144.47 13.39, 159.63 3.39, 165.31 0.63 M0 0 C6.29 2.44, 23.46 10.72, 37.73 14.65 C52 18.58, 70.06 23.15, 85.63 23.57 C101.21 24, 117.91 21.04, 131.19 17.21 C144.47 13.39, 159.63 3.39, 165.31 0.63" stroke="#000" stroke-width="2" fill="none"></path></g><g transform="translate(171.68993302126455 84.1421960101975) rotate(0 82.65707713434165 11.807929131539765)"><path d="M152.86 14.94 C156.54 10.7, 160.23 6.47, 165.31 0.63 M152.86 14.94 C156.86 10.34, 160.86 5.75, 165.31 0.63" stroke="#000" stroke-width="2" fill="none"></path></g><g transform="translate(171.68993302126455 84.1421960101975) rotate(0 82.65707713434165 11.807929131539765)"><path d="M146.57 3.58 C152.12 2.71, 157.66 1.83, 165.31 0.63 M146.57 3.58 C152.59 2.63, 158.61 1.68, 165.31 0.63" stroke="#000" stroke-width="2" fill="none"></path></g></g><g transform="translate(10 43.34656688299765) rotate(0 30.5 12.5)"><text x="0" y="20" font-family="Cascadia, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr">i = 1</text></g
</svg>

</div>

In the next iteration, value is `5`, so we make the value at index `5` negative. Notice that after the first iteration the previous value at index `2` is negative now.

<div style="max-width: 100%">
  <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 367.62641177092996 105.4859426929363" width="100%">
  
  <defs>
    <style>
      @font-face {
        font-family: "Virgil";
        src: url("https://excalidraw.com/Virgil.woff2");
      }
      @font-face {
        font-family: "Cascadia";
        src: url("https://excalidraw.com/Cascadia.woff2");
      }
    </style>
  </defs>
  <g stroke-linecap="round" transform="translate(108.78690575470682 35.57415641169882) rotate(0 20.698154666493906 21.91569317628762)"><path d="M-0.65 1.95 C14.6 -1.01, 29.81 1.22, 43.17 -0.78 M-0.13 -0.1 C13.44 0.47, 28.7 0.33, 41.21 -0.27 M42.44 0.3 C40.21 14.16, 39.98 31.7, 39.88 44.56 M41.95 -0.5 C41.91 15.29, 41.48 32.91, 40.94 43.8 M40.01 44.31 C31.48 44.38, 21.33 42.46, -0.82 45.52 M42.21 43.43 C27.25 44.82, 11.38 43.78, 0.82 43.29 M0.98 43.86 C-0.45 25.86, 1.11 12.61, -0.47 0.98 M0.13 44.53 C-0.41 34.08, 0.27 26.33, 0.62 0.69" stroke="#000" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(191.63532826904066 35.57415641169882) rotate(0 20.698154666493906 21.91569317628762)"><path d="M-0.34 -0.74 C15.04 1.09, 31.97 -1.19, 42.29 -0.56 M-0.83 0.27 C10.57 0.18, 20.65 -0.22, 42.08 0.01 M40.21 -1.98 C40.2 12, 40.11 25.9, 42.82 45.81 M41.47 -0.97 C41.29 11.16, 41.18 21.51, 40.61 43.99 M40.63 44.21 C25.51 42.39, 12.33 45.62, 1.01 44.08 M41.76 44.43 C24.04 43.22, 9.49 43.12, 0.79 44.42 M-0.2 42.47 C1.16 33.28, -0.68 19.72, -1.86 1.03 M-0.18 43.16 C0.43 33.67, 0.56 22.89, -0.74 0.06" stroke="#000" stroke-width="2" fill="none"></path></g><g transform="translate(202.33348293553445 46.98984958798644) rotate(0 10 10.5)"><text x="10" y="16" font-family="Helvetica, Segoe UI Emoji" font-size="20px" fill="#c92a2a" text-anchor="middle" style="white-space: pre;" direction="ltr">-1</text></g><g stroke-linecap="round" transform="translate(150.18321508768622 35.57415641169882) rotate(0 20.698154666493906 21.91569317628762)"><path d="M1.95 -0.34 C10.95 0.08, 24.87 1.91, 40.61 0.9 M-0.1 -0.83 C11.53 0.21, 22.66 -0.13, 41.13 0.68 M41.7 -1.19 C39.36 11.76, 40.76 24.85, 42.13 45.25 M40.89 0.08 C40.19 17.13, 41.55 34.5, 41.36 43.04 M41.88 43.06 C28.69 41.78, 13.68 42.73, 1.69 44.84 M40.99 44.19 C29.05 43.17, 15.07 44.99, -0.54 44.62 M0.03 43.63 C-1.3 29.49, 2.05 11.94, 0.98 -1.86 M0.7 43.65 C-0.44 28.92, 0.89 13.66, 0.69 -0.74" stroke="#2b8a3e" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(233.03163760203915 35.57415641169882) rotate(0 20.698154666493906 21.91569317628762)"><path d="M-0.74 -0.06 C12.56 1.85, 21.36 0.97, 40.84 -0.97 M0.27 0.15 C11.99 0.16, 23.46 1.03, 41.4 -0.13 M39.41 -1.42 C40.88 13.93, 42.19 32.31, 43.37 42.75 M40.43 -0.35 C41.56 15.12, 41.14 30.38, 41.56 44.24 M41.78 42.07 C30.3 42.86, 23.99 44.68, 0.25 45.74 M41.99 42.83 C25.17 44.8, 9.28 44.77, 0.58 43.69 M-1.36 45.2 C1.99 28.07, 0.97 11.39, 1.03 -1.07 M-0.68 44.32 C0.35 30.72, 0.38 15.63, 0.06 -0.88" stroke="#000" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(274.83379310495 35.57415641169882) rotate(0 20.698154666493906 21.91569317628762)"><path d="M-0.06 1.49 C18.23 -0.63, 33.8 -0.4, 40.43 -0.27 M0.15 0.13 C11.8 -0.38, 24.66 -0.1, 41.27 0.52 M39.98 -0.58 C39.62 14.54, 42.56 29.59, 40.31 44.94 M41.05 0.39 C40.97 10.91, 40.64 22.04, 41.81 43.14 M39.63 42.29 C27.17 45.6, 15.58 44.16, 1.91 45.46 M40.4 43.39 C31.46 43.54, 20.69 44.66, -0.14 44.32 M1.37 45.82 C-0.42 31.59, -1.81 18.42, -1.07 0.27 M0.49 44.49 C0.7 28.31, -0.65 11.46, -0.88 -0.06" stroke="#000000" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(316.23010243794215 35.57415641169882) rotate(0 20.698154666493906 21.91569317628762)"><path d="M1.49 1.78 C10.94 0.91, 22.89 -0.96, 41.13 -0.21 M0.13 -0.19 C8.7 0.62, 17.94 -0.19, 41.92 0.15 M40.82 -1.52 C41.69 11.97, 42.94 20.01, 42.51 42.82 M41.78 -0.46 C40.94 12.7, 41.13 27.39, 40.7 44.07 M39.85 43.01 C32.25 44.48, 19.99 45.37, 1.63 43.03 M40.95 44.65 C26.94 44.21, 14.16 43.28, 0.49 43.85 M1.99 43.36 C1.27 29.26, 1.32 17.33, 0.27 1.4 M0.65 44.45 C0.99 30.76, 0.35 18.27, -0.06 -0.37" stroke="#000" stroke-width="2" fill="none"></path></g><g transform="translate(122.60159534829927 10.110768403470502) rotate(0 7.5 12)"><text x="0" y="17" font-family="Virgil, Segoe UI Emoji" font-size="18.35590686106971px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">0</text></g><g transform="translate(168.22292807085887 10) rotate(0 3.5 12)"><text x="0" y="17" font-family="Virgil, Segoe UI Emoji" font-size="18.355906861069688px" fill="#c92a2a" text-anchor="start" style="white-space: pre;" direction="ltr">1</text></g><g transform="translate(205.68737872722613 10) rotate(0 7.5 12)"><text x="0" y="17" font-family="Virgil, Segoe UI Emoji" font-size="18.355906861069705px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr">2</text></g><g transform="translate(247.27357675188068 10) rotate(0 7.5 12)"><text x="0" y="17" font-family="Virgil, Segoe UI Emoji" font-size="18.355906861069695px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr">3</text></g><g transform="translate(289.4555096381373 10) rotate(0 7 12)"><text x="0" y="17" font-family="Virgil, Segoe UI Emoji" font-size="18.355906861069702px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr">4</text></g><g transform="translate(331.04170766278185 10) rotate(0 6.5 12)"><text x="0" y="17" font-family="Virgil, Segoe UI Emoji" font-size="18.35590686106969px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr">5</text></g><g transform="translate(122.98506042120061 46.98984958798701) rotate(0 6.5 10.5)"><text x="6.5" y="16" font-family="Helvetica, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="middle" style="white-space: pre;" direction="ltr">2</text></g><g transform="translate(164.38136975418 46.98984958798644) rotate(0 6.5 10.5)"><text x="6.5" y="16" font-family="Helvetica, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="middle" style="white-space: pre;" direction="ltr">5</text></g><g transform="translate(247.22979226853295 46.98984958798644) rotate(0 6.5 10.5)"><text x="6.5" y="16" font-family="Helvetica, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="middle" style="white-space: pre;" direction="ltr">3</text></g><g transform="translate(289.0319477714438 46.98984958798701) rotate(0 6.5 10.5)"><text x="6.5" y="16" font-family="Helvetica, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="middle" style="white-space: pre;" direction="ltr">2</text></g><g transform="translate(326.92825710443594 46.98984958798644) rotate(0 10 10.5)"><text x="10" y="16" font-family="Helvetica, Segoe UI Emoji" font-size="20px" fill="#2b8a3e" text-anchor="middle" style="white-space: pre;" direction="ltr">-4</text></g><g transform="translate(10 43.34656688299765) rotate(0 30.5 12.5)"><text x="0" y="20" font-family="Cascadia, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr">i = 2</text></g><g stroke-linecap="round"><g transform="translate(211.35737150692376 85.27892829509415) rotate(0 -21.954821652544524 4.309458940828961)"><path d="M0 0 C-3.21 1.7, -11.92 10.47, -19.24 10.2 C-26.56 9.94, -39.8 0.38, -43.91 -1.59 M0 0 C-3.21 1.7, -11.92 10.47, -19.24 10.2 C-26.56 9.94, -39.8 0.38, -43.91 -1.59" stroke="#000000" stroke-width="2" fill="none"></path></g><g transform="translate(211.35737150692376 85.27892829509415) rotate(0 -21.954821652544524 4.309458940828961)"><path d="M-30.46 0.85 C-34.7 0.08, -38.94 -0.69, -43.91 -1.59 M-30.46 0.85 C-35.51 -0.06, -40.56 -0.98, -43.91 -1.59" stroke="#000000" stroke-width="2" fill="none"></path></g><g transform="translate(211.35737150692376 85.27892829509415) rotate(0 -21.954821652544524 4.309458940828961)"><path d="M-35.18 8.93 C-37.93 5.61, -40.69 2.29, -43.91 -1.59 M-35.18 8.93 C-38.46 4.98, -41.74 1.03, -43.91 -1.59" stroke="#000000" stroke-width="2" fill="none"></path></g></g></svg>
</div>

We keep going the same way. Here we looked back at index `1`. Use absolute value to avoid errors, like accessing index `-1`.

<div style="max-width: 100%">
  <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 367.62641177092996 123.32121033995804" width="100%">
  
  <defs>
    <style>
      @font-face {
        font-family: "Virgil";
        src: url("https://excalidraw.com/Virgil.woff2");
      }
      @font-face {
        font-family: "Cascadia";
        src: url("https://excalidraw.com/Cascadia.woff2");
      }
    </style>
  </defs>
  <g stroke-linecap="round" transform="translate(108.78690575470682 35.57415641169882) rotate(0 20.698154666493906 21.91569317628762)"><path d="M0.22 -0.54 C10.74 1.74, 25.15 -1.2, 40.61 -0.47 M-0.62 0.62 C8.88 -0.5, 18.58 -0.33, 40.9 0.87 M41.99 1.49 C40.27 11.2, 39.66 18.28, 41.66 43.21 M42.11 -0.32 C42.18 12.95, 41.38 26.15, 42.13 44.08 M40.43 42.39 C32.33 45.48, 18.55 44.39, -1.31 45.19 M41.16 43.8 C32.27 43.39, 24.54 42.74, -0.65 43.92 M-1.31 42.98 C0.77 33.32, 0.48 21.71, -1.73 -0.57 M0.95 44.82 C-0.19 27.83, -1.08 11.28, -0.69 0.81" stroke="#000" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(150.18321508768622 35.57415641169882) rotate(0 20.698154666493906 21.91569317628762)"><path d="M-0.54 -1.11 C16.49 1.41, 28.51 -0.83, 40.93 -1.5 M0.62 -0.44 C9.7 0.2, 19.97 -0.24, 42.26 -0.7 M42.89 -1.01 C42.31 10.36, 39.29 24.2, 40.78 43.57 M41.07 0.6 C42.08 14.82, 42.71 30.77, 41.64 43.44 M39.95 45.58 C33.94 42.42, 23.54 42.33, 1.36 42.08 M41.37 43.49 C33.01 44.44, 24.06 43.09, 0.09 43.33 M-0.85 44.72 C0.62 30.05, -0.07 13.34, -0.57 1.23 M0.99 43.98 C-0.06 26.56, -0.76 10.07, 0.81 0.46" stroke="#000" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(191.63532826904066 35.57415641169882) rotate(0 20.698154666493906 21.91569317628762)"><path d="M-1.11 1.52 C11.63 -1.32, 19.57 -0.35, 39.9 -1.12 M-0.44 -0.39 C13.45 -0.48, 26.5 0.61, 40.7 -0.27 M40.39 1.1 C39.91 9.36, 41.79 21.92, 41.13 44.68 M42 0.37 C41.51 17.29, 42.44 32.84, 41.01 43.08 M43.15 45.69 C29.93 44.3, 19.58 44.89, -1.76 41.84 M41.05 43.73 C33.09 43.06, 22.73 43.91, -0.51 44.11 M0.89 44.25 C0.89 32.35, -1.44 20.83, 1.23 1.54 M0.14 43.67 C-1.16 30.78, -1.11 20.26, 0.46 -0.16" stroke="#000" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(274.83379310495 35.57415641169882) rotate(0 20.698154666493906 21.91569317628762)"><path d="M1.45 -1.43 C10.51 -0.78, 21.1 -1.44, 41.92 -1.25 M-0.05 -0.22 C14.47 1.03, 29.23 -0.11, 40.97 0.3 M39.78 -1.91 C41.44 15.8, 40.91 33.7, 42.83 45.25 M41.2 1 C42.4 11.98, 41.27 22.72, 40.87 43.35 M40.19 44.6 C30.66 45.58, 20.79 42.22, -1.65 43.36 M42.11 43.08 C28.45 43.88, 16.3 44.07, -0.44 43.18 M0.6 43.57 C-1.92 31.99, 1.04 22.82, -0.44 1.91 M-0.74 42.97 C-0.75 27.17, 0.39 8.71, -0.93 0.21" stroke="#000000" stroke-width="2" fill="none"></path></g><g transform="translate(289.0319477714438 46.98984958798701) rotate(0 6.5 10.5)"><text x="6.5" y="16" font-family="Helvetica, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="middle" style="white-space: pre;" direction="ltr">2</text></g><g stroke-linecap="round" transform="translate(233.03163760203915 35.57415641169882) rotate(0 20.698154666493906 21.91569317628762)"><path d="M1.52 1.45 C11.44 -0.56, 25.26 -1.27, 40.27 0.52 M-0.39 -0.05 C9.61 -0.32, 20.54 -0.52, 41.13 -0.43 M42.5 -1.61 C39.81 14.72, 41.1 28.66, 42.25 45.27 M41.77 -0.2 C42.25 17, 41.5 32.14, 40.65 43.31 M43.26 42.62 C31.74 42.89, 21.91 42.44, -1.99 42.19 M41.3 44.54 C29.19 43.04, 18.58 43.18, 0.28 43.39 M0.42 44.43 C-0.08 31.82, -0.38 24.49, 1.54 -0.44 M-0.16 43.09 C-1.29 25.82, 0.38 9.64, -0.16 -0.93" stroke="#2b8a3e" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(316.23010243794215 35.57415641169882) rotate(0 20.698154666493906 21.91569317628762)"><path d="M-1.43 -0.79 C9.66 -1.8, 19.12 0.22, 40.15 1.23 M-0.22 -0.5 C11.47 -0.67, 20.95 -0.41, 41.7 0.75 M39.48 0.26 C41.02 10.68, 42.49 23.33, 42.82 43.19 M42.4 0.74 C41.81 15.39, 40.81 31.03, 40.91 43.11 M42.17 42.53 C26.72 41.83, 7.32 41.94, -0.47 43.77 M40.64 43.19 C30.48 43.62, 19.67 43.68, -0.65 43.4 M-0.26 42.1 C-0.66 29.96, 1.45 13.19, 1.91 1.97 M-0.86 43.14 C0.88 30.51, -0.09 15.34, 0.21 0.82" stroke="#000" stroke-width="2" fill="none"></path></g><g transform="translate(122.60159534829927 10.110768403470502) rotate(0 7.5 12)"><text x="0" y="17" font-family="Virgil, Segoe UI Emoji" font-size="18.35590686106971px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">0</text></g><g transform="translate(168.22292807085887 10) rotate(0 3.5 12)"><text x="0" y="17" font-family="Virgil, Segoe UI Emoji" font-size="18.355906861069688px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr">1</text></g><g transform="translate(205.68737872722613 10) rotate(0 7.5 12)"><text x="0" y="17" font-family="Virgil, Segoe UI Emoji" font-size="18.355906861069705px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr">2</text></g><g transform="translate(247.27357675188068 10) rotate(0 7.5 12)"><text x="0" y="17" font-family="Virgil, Segoe UI Emoji" font-size="18.355906861069695px" fill="#c92a2a" text-anchor="start" style="white-space: pre;" direction="ltr">3</text></g><g transform="translate(289.4555096381373 10) rotate(0 7 12)"><text x="0" y="17" font-family="Virgil, Segoe UI Emoji" font-size="18.355906861069702px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr">4</text></g><g transform="translate(331.04170766278185 10) rotate(0 6.5 12)"><text x="0" y="17" font-family="Virgil, Segoe UI Emoji" font-size="18.35590686106969px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr">5</text></g><g transform="translate(122.98506042120061 46.98984958798701) rotate(0 6.5 10.5)"><text x="6.5" y="16" font-family="Helvetica, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="middle" style="white-space: pre;" direction="ltr">2</text></g><g transform="translate(160.88136975418 46.98984958798644) rotate(0 10 10.5)"><text x="10" y="16" font-family="Helvetica, Segoe UI Emoji" font-size="20px" fill="#2b8a3e" text-anchor="middle" style="white-space: pre;" direction="ltr">-5</text></g><g transform="translate(202.33348293553445 46.989849587986555) rotate(0 10 10.5)"><text x="10" y="16" font-family="Helvetica, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="middle" style="white-space: pre;" direction="ltr">-1</text></g><g transform="translate(247.22979226853295 46.98984958798644) rotate(0 6.5 10.5)"><text x="6.5" y="16" font-family="Helvetica, Segoe UI Emoji" font-size="20px" fill="#c92a2a" text-anchor="middle" style="white-space: pre;" direction="ltr">3</text></g><g transform="translate(326.92825710443594 46.98984958798633) rotate(0 10 10.5)"><text x="10" y="16" font-family="Helvetica, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="middle" style="white-space: pre;" direction="ltr">-4</text></g><g transform="translate(10 43.34656688299765) rotate(0 30.5 12.5)"><text x="0" y="20" font-family="Cascadia, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr">i = 3</text></g><g stroke-linecap="round"><g transform="translate(254.55652009921823 113.32121033995804) rotate(0 0 -15.856260082393305)"><path d="M0 0 C0 -5.29, 0 -26.43, 0 -31.71 M0 0 C0 -5.29, 0 -26.43, 0 -31.71" stroke="#000000" stroke-width="2" fill="none"></path></g><g transform="translate(254.55652009921823 113.32121033995804) rotate(0 0 -15.856260082393305)"><path d="M5.42 -16.81 C3.94 -20.9, 2.45 -24.98, 0 -31.71 M5.42 -16.81 C3.57 -21.91, 1.71 -27, 0 -31.71" stroke="#000000" stroke-width="2" fill="none"></path></g><g transform="translate(254.55652009921823 113.32121033995804) rotate(0 0 -15.856260082393305)"><path d="M-5.42 -16.81 C-3.94 -20.9, -2.45 -24.98, 0 -31.71 M-5.42 -16.81 C-3.57 -21.91, -1.71 -27, 0 -31.71" stroke="#000000" stroke-width="2" fill="none"></path></g></g></svg>
</div>

Here is value `3` at the index `3`, so we make the same value negative.

<div style="max-width: 100%">
  <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 367.62641177092996 112.87921027987011" width="100%">
  
  <defs>
    <style>
      @font-face {
        font-family: "Virgil";
        src: url("https://excalidraw.com/Virgil.woff2");
      }
      @font-face {
        font-family: "Cascadia";
        src: url("https://excalidraw.com/Cascadia.woff2");
      }
    </style>
  </defs>
  <g stroke-linecap="round" transform="translate(108.78690575470682 35.57415641169882) rotate(0 20.698154666493906 21.91569317628762)"><path d="M-1.2 -1.65 C12.72 -0.25, 24.88 -1.23, 41.65 -1.13 M0.15 0.88 C14.52 -0.66, 31.33 0.21, 41.55 0.56 M40.58 -1 C40.58 8.96, 42.35 21.08, 39.5 42.38 M41.92 0.83 C41.6 11.2, 40.16 23.55, 41.84 43.18 M40.4 45.82 C30.66 45.23, 23.42 45.47, 0.64 45.69 M41.12 44.05 C31.75 44.55, 24.16 44.15, 0.67 44.15 M0.14 43.83 C1.27 29.2, -1.27 17.91, 0.32 -0.18 M0.77 44.08 C-0.94 31.51, 0.51 17.31, -0.77 -0.65" stroke="#000" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(150.18321508768622 35.57415641169882) rotate(0 20.698154666493906 21.91569317628762)"><path d="M-1.65 0.98 C12.82 1.64, 24.63 0.51, 40.27 1.48 M0.88 -0.95 C14.96 0.33, 31.7 0.1, 41.96 -0.59 M40.4 -0.93 C39.89 15.07, 41.45 26.57, 39.95 43.37 M42.23 0.56 C40.23 8.78, 40.43 19.79, 40.75 43.02 M43.39 42.18 C33.68 43.8, 24.93 44.27, 1.86 42.14 M41.61 43.1 C26.55 44.32, 10.65 44.39, 0.32 43.98 M0 44.98 C-0.54 30.44, 1.95 20.14, -0.18 -0.16 M0.25 43.03 C0.77 29.95, -0.62 14, -0.65 0.07" stroke="#000" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(233.03163760203915 35.57415641169882) rotate(0 20.698154666493906 21.91569317628762)"><path d="M0.04 1.39 C8.99 0.06, 18.72 1.27, 43.07 -1.24 M-0.91 0.39 C12.98 0.55, 26.63 -0.2, 41.64 0.19 M39.8 0.84 C41.14 9.47, 39.73 22.26, 39.81 42.84 M40.45 -0.89 C41.02 15.91, 41.11 30.12, 40.57 44.14 M42.67 44.01 C32.54 44.13, 22.53 41.8, 1.49 44.13 M42.06 44.43 C30.37 44.2, 19.14 43.67, -0.26 43.14 M-0.85 42.45 C1.65 30.7, -0.18 16.78, 0.63 -1.29 M0.49 44.48 C-1.01 26.53, -0.76 10.84, -0.24 -0.8" stroke="#000" stroke-width="2" fill="none"></path></g><g transform="translate(243.72979226853295 46.98984958798644) rotate(0 10 10.5)"><text x="10" y="16" font-family="Helvetica, Segoe UI Emoji" font-size="20px" fill="#2b8a3e" text-anchor="middle" style="white-space: pre;" direction="ltr">-3</text></g><g stroke-linecap="round" transform="translate(191.63532826904066 35.57415641169882) rotate(0 20.698154666493906 21.91569317628762)"><path d="M0.98 0.04 C16.75 -0.6, 30.96 -0.79, 42.87 1.67 M-0.95 -0.91 C10.24 -0.41, 19.86 0.2, 40.81 0.25 M40.47 -1.59 C42.06 13.96, 39.32 26.54, 40.94 42.25 M41.95 -0.95 C40.74 10.22, 42.07 21.29, 40.59 43 M39.74 45.11 C27.87 45.75, 14.64 46.1, -1.69 45.32 M40.67 44.49 C28.95 44.18, 15.98 44.24, 0.14 43.57 M1.15 42.98 C-1.41 35.38, 0.29 23.45, -0.16 0.63 M-0.8 44.32 C0.31 32.61, -1.11 22.54, 0.07 -0.24" stroke="#2b8a3e" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(274.83379310495 35.57415641169882) rotate(0 20.698154666493906 21.91569317628762)"><path d="M-0.85 -0.03 L43.26 1.64 L40.93 43.81 L-1.46 44.55" stroke="none" stroke-width="0" fill="#fa5252"></path><path d="M1.39 -0.94 C9.26 -1.14, 19.48 1.66, 40.16 0.3 M0.39 -0.05 C16.22 0.94, 31.52 0.62, 41.59 -0.41 M42.24 -0.03 C39.3 9.51, 40.74 20.34, 40.4 44.89 M40.5 -0.74 C42.08 16.14, 40.83 32.75, 41.71 43.34 M41.57 45.34 C25.5 45.95, 6.63 45.59, 0.3 43.28 M41.99 44.09 C28.75 44.43, 14.91 43.84, -0.7 43.9 M-1.38 45.48 C0.07 30.51, -0.41 18.18, -1.29 1.54 M0.65 42.93 C-0.42 28.94, 0.42 15.12, -0.8 -0.78" stroke="#000000" stroke-width="2" fill="none"></path></g><g stroke-linecap="round" transform="translate(316.23010243794215 35.57415641169882) rotate(0 20.698154666493906 21.91569317628762)"><path d="M-0.94 0.26 C13.32 1.19, 30.57 -1.53, 41.69 1.76 M-0.05 0.16 C9.04 -0.75, 17.19 0.03, 40.99 -0.5 M41.36 -1.89 C39.6 10.66, 39.46 21.24, 42.45 45.49 M40.65 0.44 C40.33 14.78, 40.15 31.48, 40.9 44.83 M42.91 44.47 C34.26 42.18, 24.9 44.17, -0.55 44.26 M41.66 44.5 C32.31 44.22, 22.32 43.38, 0.07 43.83 M1.65 44.15 C0.01 28, 0.82 11.19, 1.54 0.5 M-0.9 43.06 C-0.86 34.26, -0.45 23.76, -0.78 -0.42" stroke="#000" stroke-width="2" fill="none"></path></g><g transform="translate(122.60159534829927 10.110768403470502) rotate(0 7.5 12)"><text x="0" y="17" font-family="Virgil, Segoe UI Emoji" font-size="18.35590686106971px" fill="#000000" text-anchor="start" style="white-space: pre;" direction="ltr">0</text></g><g transform="translate(168.22292807085887 10) rotate(0 3.5 12)"><text x="0" y="17" font-family="Virgil, Segoe UI Emoji" font-size="18.355906861069688px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr">1</text></g><g transform="translate(205.68737872722613 10) rotate(0 7.5 12)"><text x="0" y="17" font-family="Virgil, Segoe UI Emoji" font-size="18.355906861069705px" fill="#c92a2a" text-anchor="start" style="white-space: pre;" direction="ltr">2</text></g><g transform="translate(247.27357675188068 10) rotate(0 7.5 12)"><text x="0" y="17" font-family="Virgil, Segoe UI Emoji" font-size="18.355906861069695px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr">3</text></g><g transform="translate(289.4555096381373 10) rotate(0 7 12)"><text x="0" y="17" font-family="Virgil, Segoe UI Emoji" font-size="18.355906861069702px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr">4</text></g><g transform="translate(331.04170766278185 10) rotate(0 6.5 12)"><text x="0" y="17" font-family="Virgil, Segoe UI Emoji" font-size="18.35590686106969px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr">5</text></g><g transform="translate(122.98506042120061 46.98984958798701) rotate(0 6.5 10.5)"><text x="6.5" y="16" font-family="Helvetica, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="middle" style="white-space: pre;" direction="ltr">2</text></g><g transform="translate(160.88136975418 46.989849587986555) rotate(0 10 10.5)"><text x="10" y="16" font-family="Helvetica, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="middle" style="white-space: pre;" direction="ltr">-5</text></g><g transform="translate(202.33348293553445 46.98984958798644) rotate(0 10 10.5)"><text x="10" y="16" font-family="Helvetica, Segoe UI Emoji" font-size="20px" fill="#c92a2a" text-anchor="middle" style="white-space: pre;" direction="ltr">-1</text></g><g transform="translate(289.0319477714438 46.98984958798644) rotate(0 6.5 10.5)"><text x="6.5" y="16" font-family="Helvetica, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="middle" style="white-space: pre;" direction="ltr">2</text></g><g transform="translate(326.92825710443594 46.9898495879861) rotate(0 10 10.5)"><text x="10" y="16" font-family="Helvetica, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="middle" style="white-space: pre;" direction="ltr">-4</text></g><g transform="translate(10 43.34656688299765) rotate(0 30.5 12.5)"><text x="0" y="20" font-family="Cascadia, Segoe UI Emoji" font-size="20px" fill="#000" text-anchor="start" style="white-space: pre;" direction="ltr">i = 4</text></g><g stroke-linecap="round"><g transform="translate(295.21359723356136 84.98914373714956) rotate(0 -41.87678944837205 8.945033271360273)"><path d="M0 0 C-6.23 2.98, -23.45 17.75, -37.4 17.89 C-51.36 18.02, -76.03 3.66, -83.75 0.81 M0 0 C-6.23 2.98, -23.45 17.75, -37.4 17.89 C-51.36 18.02, -76.03 3.66, -83.75 0.81" stroke="#000" stroke-width="2" fill="none"></path></g><g transform="translate(295.21359723356136 84.98914373714956) rotate(0 -41.87678944837205 8.945033271360273)"><path d="M-59.14 2.86 C-68.26 2.1, -77.38 1.34, -83.75 0.81 M-59.14 2.86 C-64.72 2.39, -70.3 1.93, -83.75 0.81" stroke="#000" stroke-width="2" fill="none"></path></g><g transform="translate(295.21359723356136 84.98914373714956) rotate(0 -41.87678944837205 8.945033271360273)"><path d="M-66.21 18.2 C-72.71 11.76, -79.21 5.31, -83.75 0.81 M-66.21 18.2 C-70.19 14.26, -74.17 10.32, -83.75 0.81" stroke="#000" stroke-width="2" fill="none"></path></g></g></svg>
</div>

On this iteration current value is `2`, so we look at the index of `2` and see the negative value. We marked it negative on the first iteration. So current value is our duplicate.

## Let's look at the code

Javascript example:

```javascript
const findDuplicate = (nums) => {
  for (let i = 0; i < nums.length; i++) {
    // index has to be positive
    const currVal = Math.abs(nums[i]);
    if (nums[currVal] < 0) return currVal;
    nums[currVal] = -nums[currVal];
  }
};
```

Python example:

```python
def find_duplicate(nums):
  for i in range(len(nums)):
    curr_value = abs(nums[i])
    if nums[curr_value] < 0:
      return curr_value
    nums[curr_value] = -nums[curr_value]
```

Optionally we can iterate over the array one more time to make elements positive.

## Conclusion

Thank you for your time! Please follow me on [twitter](https://twitter.com/shdq "@shdq"), and if you have found a mistake or have any other questions, feel free to ask.
